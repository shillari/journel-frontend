<app-default-login-layout title="Sign up">
  <!-- Form -->
  <form [formGroup]="signupForm" class="w-full pt-3">
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Email</mat-label>
      <input id="email" matInput type="text" placeholder="email@example.com" formControlName="email" required>
      <div *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
        <span *ngIf="signupForm.get('email')?.hasError('required')">Email is required.</span>
        <span *ngIf="signupForm.get('email')?.hasError('email')">Please enter a valid email.</span>
      </div>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Username</mat-label>
      <input id="username" matInput type="text" placeholder="username" formControlName="username" required>
      <div *ngIf="signupForm.get('username')?.invalid && signupForm.get('username')?.touched">
        <span *ngIf="signupForm.get('username')?.hasError('required')">Username is required.</span>
      </div>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Password</mat-label>
      <input id="password" matInput [type]="hide() ? 'password' : 'text'" formControlName="password" required>
      <button class="px-2" mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide()">
        <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <div *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
        <span *ngIf="signupForm.get('password')?.hasError('required')">Password is required.</span>
        <span *ngIf="signupForm.get('password')?.hasError('minlength')">Password must be at least 8 characters
          long.</span>
      </div>
    </mat-form-field>

    <button type="submit"
      class="w-full text-white bg-caramel-500 py-2 rounded-lg hover:bg-caramel-500/75 hover:cursor-pointer shadow-lg"
      (click)="signupUser()">Sign up</button>
  </form>

  <div class="mt-6 text-center">

    <a routerLink="/login" class="text-caramel-500 flex justify-center pt-3 text-md underline hover:no-underline">
      Log in here</a>
  </div>
</app-default-login-layout>